<!doctype html>
<html style='font-size:22px !important'>
<head>
<meta charset='UTF-8'><meta name='viewport' content='width=device-width initial-scale=1'>

<style type='text/css'>html {overflow-x: initial !important;}:root { --bg-color: #ffffff; --text-color: #333333; --select-text-bg-color: #B5D6FC; --select-text-font-color: auto; --monospace: "Lucida Console",Consolas,"Courier",monospace; --title-bar-height: 20px; }
.mac-os-11 { --title-bar-height: 28px; }
html { font-size: 14px; background-color: var(--bg-color); color: var(--text-color); font-family: "Helvetica Neue", Helvetica, Arial, sans-serif; -webkit-font-smoothing: antialiased; }
h1, h2, h3, h4, h5 { white-space: pre-wrap; }
body { margin: 0px; padding: 0px; height: auto; inset: 0px; font-size: 1rem; line-height: 1.42857; overflow-x: hidden; background: inherit; }
iframe { margin: auto; }
a.url { word-break: break-all; }
a:active, a:hover { outline: 0px; }
.in-text-selection, ::selection { text-shadow: none; background: var(--select-text-bg-color); color: var(--select-text-font-color); }
#write { margin: 0px auto; height: auto; width: inherit; word-break: normal; overflow-wrap: break-word; position: relative; white-space: normal; overflow-x: visible; padding-top: 36px; }
#write.first-line-indent p { text-indent: 2em; }
#write.first-line-indent li p, #write.first-line-indent p * { text-indent: 0px; }
#write.first-line-indent li { margin-left: 2em; }
.for-image #write { padding-left: 8px; padding-right: 8px; }
body.typora-export { padding-left: 30px; padding-right: 30px; }
.typora-export .footnote-line, .typora-export li, .typora-export p { white-space: pre-wrap; }
.typora-export .task-list-item input { pointer-events: none; }
@media screen and (max-width: 500px) {
  body.typora-export { padding-left: 0px; padding-right: 0px; }
  #write { padding-left: 20px; padding-right: 20px; }
}
#write li > figure:last-child { margin-bottom: 0.5rem; }
#write ol, #write ul { position: relative; }
img { max-width: 100%; vertical-align: middle; image-orientation: from-image; }
button, input, select, textarea { color: inherit; font: inherit; }
input[type="checkbox"], input[type="radio"] { line-height: normal; padding: 0px; }
*, ::after, ::before { box-sizing: border-box; }
#write h1, #write h2, #write h3, #write h4, #write h5, #write h6, #write p, #write pre { width: inherit; }
#write h1, #write h2, #write h3, #write h4, #write h5, #write h6, #write p { position: relative; }
p { line-height: inherit; }
h1, h2, h3, h4, h5, h6 { break-after: avoid-page; break-inside: avoid; orphans: 4; }
p { orphans: 4; }
h1 { font-size: 2rem; }
h2 { font-size: 1.8rem; }
h3 { font-size: 1.6rem; }
h4 { font-size: 1.4rem; }
h5 { font-size: 1.2rem; }
h6 { font-size: 1rem; }
.md-math-block, .md-rawblock, h1, h2, h3, h4, h5, h6, p { margin-top: 1rem; margin-bottom: 1rem; }
.hidden { display: none; }
.md-blockmeta { color: rgb(204, 204, 204); font-weight: 700; font-style: italic; }
a { cursor: pointer; }
sup.md-footnote { padding: 2px 4px; background-color: rgba(238, 238, 238, 0.7); color: rgb(85, 85, 85); border-radius: 4px; cursor: pointer; }
sup.md-footnote a, sup.md-footnote a:hover { color: inherit; text-transform: inherit; text-decoration: inherit; }
#write input[type="checkbox"] { cursor: pointer; width: inherit; height: inherit; }
figure { overflow-x: auto; margin: 1.2em 0px; max-width: calc(100% + 16px); padding: 0px; }
figure > table { margin: 0px; }
thead, tr { break-inside: avoid; break-after: auto; }
thead { display: table-header-group; }
table { border-collapse: collapse; border-spacing: 0px; width: 100%; overflow: auto; break-inside: auto; text-align: left; }
table.md-table td { min-width: 32px; }
.CodeMirror-gutters { border-right: 0px; background-color: inherit; }
.CodeMirror-linenumber { user-select: none; }
.CodeMirror { text-align: left; }
.CodeMirror-placeholder { opacity: 0.3; }
.CodeMirror pre { padding: 0px 4px; }
.CodeMirror-lines { padding: 0px; }
div.hr:focus { cursor: none; }
#write pre { white-space: pre-wrap; }
#write.fences-no-line-wrapping pre { white-space: pre; }
#write pre.ty-contain-cm { white-space: normal; }
.CodeMirror-gutters { margin-right: 4px; }
.md-fences { font-size: 0.9rem; display: block; break-inside: avoid; text-align: left; overflow: visible; white-space: pre; background: inherit; position: relative !important; }
.md-fences-adv-panel { width: 100%; margin-top: 10px; text-align: center; padding-top: 0px; padding-bottom: 8px; overflow-x: auto; }
#write .md-fences.mock-cm { white-space: pre-wrap; }
.md-fences.md-fences-with-lineno { padding-left: 0px; }
#write.fences-no-line-wrapping .md-fences.mock-cm { white-space: pre; overflow-x: auto; }
.md-fences.mock-cm.md-fences-with-lineno { padding-left: 8px; }
.CodeMirror-line, twitterwidget { break-inside: avoid; }
svg { break-inside: avoid; }
.footnotes { opacity: 0.8; font-size: 0.9rem; margin-top: 1em; margin-bottom: 1em; }
.footnotes + .footnotes { margin-top: 0px; }
.md-reset { margin: 0px; padding: 0px; border: 0px; outline: 0px; vertical-align: top; background: 0px 0px; text-decoration: none; text-shadow: none; float: none; position: static; width: auto; height: auto; white-space: nowrap; cursor: inherit; -webkit-tap-highlight-color: transparent; line-height: normal; font-weight: 400; text-align: left; box-sizing: content-box; direction: ltr; }
li div { padding-top: 0px; }
blockquote { margin: 1rem 0px; }
li .mathjax-block, li p { margin: 0.5rem 0px; }
li blockquote { margin: 1rem 0px; }
li { margin: 0px; position: relative; }
blockquote > :last-child { margin-bottom: 0px; }
blockquote > :first-child, li > :first-child { margin-top: 0px; }
.footnotes-area { color: rgb(136, 136, 136); margin-top: 0.714rem; padding-bottom: 0.143rem; white-space: normal; }
#write .footnote-line { white-space: pre-wrap; }
@media print {
  body, html { border: 1px solid transparent; height: 99%; break-after: avoid; break-before: avoid; font-variant-ligatures: no-common-ligatures; }
  #write { margin-top: 0px; border-color: transparent !important; padding-top: 0px !important; padding-bottom: 0px !important; }
  .typora-export * { -webkit-print-color-adjust: exact; }
  .typora-export #write { break-after: avoid; }
  .typora-export #write::after { height: 0px; }
  .is-mac table { break-inside: avoid; }
  #write > p:nth-child(1) { margin-top: 0px; }
  .typora-export-show-outline .typora-export-sidebar { display: none; }
  figure { overflow-x: visible; }
}
.footnote-line { margin-top: 0.714em; font-size: 0.7em; }
a img, img a { cursor: pointer; }
pre.md-meta-block { font-size: 0.8rem; min-height: 0.8rem; white-space: pre-wrap; background: rgb(204, 204, 204); display: block; overflow-x: hidden; }
p > .md-image:only-child:not(.md-img-error) img, p > img:only-child { display: block; margin: auto; }
#write.first-line-indent p > .md-image:only-child:not(.md-img-error) img { left: -2em; position: relative; }
p > .md-image:only-child { display: inline-block; width: 100%; }
#write .MathJax_Display { margin: 0.8em 0px 0px; }
.md-math-block { width: 100%; }
.md-math-block:not(:empty)::after { display: none; }
.MathJax_ref { fill: currentcolor; }
[contenteditable="true"]:active, [contenteditable="true"]:focus, [contenteditable="false"]:active, [contenteditable="false"]:focus { outline: 0px; box-shadow: none; }
.md-task-list-item { position: relative; list-style-type: none; }
.task-list-item.md-task-list-item { padding-left: 0px; }
.md-task-list-item > input { position: absolute; top: 0px; left: 0px; margin-left: -1.2em; margin-top: calc(1em - 10px); border: none; }
.math { font-size: 1rem; }
.md-toc { min-height: 3.58rem; position: relative; font-size: 0.9rem; border-radius: 10px; }
.md-toc-content { position: relative; margin-left: 0px; }
.md-toc-content::after, .md-toc::after { display: none; }
.md-toc-item { display: block; color: rgb(65, 131, 196); }
.md-toc-item a { text-decoration: none; }
.md-toc-inner:hover { text-decoration: underline; }
.md-toc-inner { display: inline-block; cursor: pointer; }
.md-toc-h1 .md-toc-inner { margin-left: 0px; font-weight: 700; }
.md-toc-h2 .md-toc-inner { margin-left: 2em; }
.md-toc-h3 .md-toc-inner { margin-left: 4em; }
.md-toc-h4 .md-toc-inner { margin-left: 6em; }
.md-toc-h5 .md-toc-inner { margin-left: 8em; }
.md-toc-h6 .md-toc-inner { margin-left: 10em; }
@media screen and (max-width: 48em) {
  .md-toc-h3 .md-toc-inner { margin-left: 3.5em; }
  .md-toc-h4 .md-toc-inner { margin-left: 5em; }
  .md-toc-h5 .md-toc-inner { margin-left: 6.5em; }
  .md-toc-h6 .md-toc-inner { margin-left: 8em; }
}
a.md-toc-inner { font-size: inherit; font-style: inherit; font-weight: inherit; line-height: inherit; }
.footnote-line a:not(.reversefootnote) { color: inherit; }
.reversefootnote { font-family: ui-monospace, sans-serif; }
.md-attr { display: none; }
.md-fn-count::after { content: "."; }
code, pre, samp, tt { font-family: var(--monospace); }
kbd { margin: 0px 0.1em; padding: 0.1em 0.6em; font-size: 0.8em; color: rgb(36, 39, 41); background: rgb(255, 255, 255); border: 1px solid rgb(173, 179, 185); border-radius: 3px; box-shadow: rgba(12, 13, 14, 0.2) 0px 1px 0px, rgb(255, 255, 255) 0px 0px 0px 2px inset; white-space: nowrap; vertical-align: middle; }
.md-comment { color: rgb(162, 127, 3); opacity: 0.6; font-family: var(--monospace); }
code { text-align: left; vertical-align: initial; }
a.md-print-anchor { white-space: pre !important; border-width: initial !important; border-style: none !important; border-color: initial !important; display: inline-block !important; position: absolute !important; width: 1px !important; right: 0px !important; outline: 0px !important; background: 0px 0px !important; text-decoration: initial !important; text-shadow: initial !important; }
.os-windows.monocolor-emoji .md-emoji { font-family: "Segoe UI Symbol", sans-serif; }
.md-diagram-panel > svg { max-width: 100%; }
[lang="flow"] svg, [lang="mermaid"] svg { max-width: 100%; height: auto; }
[lang="mermaid"] .node text { font-size: 1rem; }
table tr th { border-bottom: 0px; }
video { max-width: 100%; display: block; margin: 0px auto; }
iframe { max-width: 100%; width: 100%; border: none; }
.highlight td, .highlight tr { border: 0px; }
mark { background: rgb(255, 255, 0); color: rgb(0, 0, 0); }
.md-html-inline .md-plain, .md-html-inline strong, mark .md-inline-math, mark strong { color: inherit; }
.md-expand mark .md-meta { opacity: 0.3 !important; }
mark .md-meta { color: rgb(0, 0, 0); }
@media print {
  .typora-export h1, .typora-export h2, .typora-export h3, .typora-export h4, .typora-export h5, .typora-export h6 { break-inside: avoid; }
}
.md-diagram-panel .messageText { stroke: none !important; }
.md-diagram-panel .start-state { fill: var(--node-fill); }
.md-diagram-panel .edgeLabel rect { opacity: 1 !important; }
.md-fences.md-fences-math { font-size: 1em; }
.md-fences-advanced:not(.md-focus) { padding: 0px; white-space: nowrap; border: 0px; }
.md-fences-advanced:not(.md-focus) { background: inherit; }
.typora-export-show-outline .typora-export-content { max-width: 1440px; margin: auto; display: flex; flex-direction: row; }
.typora-export-sidebar { width: 300px; font-size: 0.8rem; margin-top: 80px; margin-right: 18px; }
.typora-export-show-outline #write { --webkit-flex: 2; flex: 2 1 0%; }
.typora-export-sidebar .outline-content { position: fixed; top: 0px; max-height: 100%; overflow: hidden auto; padding-bottom: 30px; padding-top: 60px; width: 300px; }
@media screen and (max-width: 1024px) {
  .typora-export-sidebar, .typora-export-sidebar .outline-content { width: 240px; }
}
@media screen and (max-width: 800px) {
  .typora-export-sidebar { display: none; }
}
.outline-content li, .outline-content ul { margin-left: 0px; margin-right: 0px; padding-left: 0px; padding-right: 0px; list-style: none; overflow-wrap: anywhere; }
.outline-content ul { margin-top: 0px; margin-bottom: 0px; }
.outline-content strong { font-weight: 400; }
.outline-expander { width: 1rem; height: 1.42857rem; position: relative; display: table-cell; vertical-align: middle; cursor: pointer; padding-left: 4px; }
.outline-expander::before { content: ""; position: relative; font-family: Ionicons; display: inline-block; font-size: 8px; vertical-align: middle; }
.outline-item { padding-top: 3px; padding-bottom: 3px; cursor: pointer; }
.outline-expander:hover::before { content: ""; }
.outline-h1 > .outline-item { padding-left: 0px; }
.outline-h2 > .outline-item { padding-left: 1em; }
.outline-h3 > .outline-item { padding-left: 2em; }
.outline-h4 > .outline-item { padding-left: 3em; }
.outline-h5 > .outline-item { padding-left: 4em; }
.outline-h6 > .outline-item { padding-left: 5em; }
.outline-label { cursor: pointer; display: table-cell; vertical-align: middle; text-decoration: none; color: inherit; }
.outline-label:hover { text-decoration: underline; }
.outline-item:hover { border-color: rgb(245, 245, 245); background-color: var(--item-hover-bg-color); }
.outline-item:hover { margin-left: -28px; margin-right: -28px; border-left: 28px solid transparent; border-right: 28px solid transparent; }
.outline-item-single .outline-expander::before, .outline-item-single .outline-expander:hover::before { display: none; }
.outline-item-open > .outline-item > .outline-expander::before { content: ""; }
.outline-children { display: none; }
.info-panel-tab-wrapper { display: none; }
.outline-item-open > .outline-children { display: block; }
.typora-export .outline-item { padding-top: 1px; padding-bottom: 1px; }
.typora-export .outline-item:hover { margin-right: -8px; border-right: 8px solid transparent; }
.typora-export .outline-expander::before { content: "+"; font-family: inherit; top: -1px; }
.typora-export .outline-expander:hover::before, .typora-export .outline-item-open > .outline-item > .outline-expander::before { content: "−"; }
.typora-export-collapse-outline .outline-children { display: none; }
.typora-export-collapse-outline .outline-item-open > .outline-children, .typora-export-no-collapse-outline .outline-children { display: block; }
.typora-export-no-collapse-outline .outline-expander::before { content: "" !important; }
.typora-export-show-outline .outline-item-active > .outline-item .outline-label { font-weight: 700; }
.md-inline-math-container mjx-container { zoom: 0.95; }
mjx-container { break-inside: avoid; }
.md-alert.md-alert-note { border-left-color: rgb(9, 105, 218); }
.md-alert.md-alert-important { border-left-color: rgb(130, 80, 223); }
.md-alert.md-alert-warning { border-left-color: rgb(154, 103, 0); }
.md-alert.md-alert-tip { border-left-color: rgb(31, 136, 61); }
.md-alert.md-alert-caution { border-left-color: rgb(207, 34, 46); }
.md-alert { padding: 0px 1em; margin-bottom: 16px; color: inherit; border-left: 0.25em solid rgb(0, 0, 0); }
.md-alert-text-note { color: rgb(9, 105, 218); }
.md-alert-text-important { color: rgb(130, 80, 223); }
.md-alert-text-warning { color: rgb(154, 103, 0); }
.md-alert-text-tip { color: rgb(31, 136, 61); }
.md-alert-text-caution { color: rgb(207, 34, 46); }
.md-alert-text { font-size: 0.9rem; font-weight: 700; }
.md-alert-text svg { fill: currentcolor; position: relative; top: 0.125em; margin-right: 1ch; overflow: visible; }
.md-alert-text-container::after { content: attr(data-text); text-transform: capitalize; pointer-events: none; margin-right: 1ch; }


.CodeMirror { height: auto; }
.CodeMirror.cm-s-inner { background: inherit; }
.CodeMirror-scroll { overflow: auto hidden; z-index: 3; }
.CodeMirror-gutter-filler, .CodeMirror-scrollbar-filler { background-color: rgb(255, 255, 255); }
.CodeMirror-gutters { border-right: 1px solid rgb(221, 221, 221); background: inherit; white-space: nowrap; }
.CodeMirror-linenumber { padding: 0px 3px 0px 5px; text-align: right; color: rgb(153, 153, 153); }
.cm-s-inner .cm-keyword { color: rgb(119, 0, 136); }
.cm-s-inner .cm-atom, .cm-s-inner.cm-atom { color: rgb(34, 17, 153); }
.cm-s-inner .cm-number { color: rgb(17, 102, 68); }
.cm-s-inner .cm-def { color: rgb(0, 0, 255); }
.cm-s-inner .cm-variable { color: rgb(0, 0, 0); }
.cm-s-inner .cm-variable-2 { color: rgb(0, 85, 170); }
.cm-s-inner .cm-variable-3 { color: rgb(0, 136, 85); }
.cm-s-inner .cm-string { color: rgb(170, 17, 17); }
.cm-s-inner .cm-property { color: rgb(0, 0, 0); }
.cm-s-inner .cm-operator { color: rgb(152, 26, 26); }
.cm-s-inner .cm-comment, .cm-s-inner.cm-comment { color: rgb(170, 85, 0); }
.cm-s-inner .cm-string-2 { color: rgb(255, 85, 0); }
.cm-s-inner .cm-meta { color: rgb(85, 85, 85); }
.cm-s-inner .cm-qualifier { color: rgb(85, 85, 85); }
.cm-s-inner .cm-builtin { color: rgb(51, 0, 170); }
.cm-s-inner .cm-bracket { color: rgb(153, 153, 119); }
.cm-s-inner .cm-tag { color: rgb(17, 119, 0); }
.cm-s-inner .cm-attribute { color: rgb(0, 0, 204); }
.cm-s-inner .cm-header, .cm-s-inner.cm-header { color: rgb(0, 0, 255); }
.cm-s-inner .cm-quote, .cm-s-inner.cm-quote { color: rgb(0, 153, 0); }
.cm-s-inner .cm-hr, .cm-s-inner.cm-hr { color: rgb(153, 153, 153); }
.cm-s-inner .cm-link, .cm-s-inner.cm-link { color: rgb(0, 0, 204); }
.cm-negative { color: rgb(221, 68, 68); }
.cm-positive { color: rgb(34, 153, 34); }
.cm-header, .cm-strong { font-weight: 700; }
.cm-del { text-decoration: line-through; }
.cm-em { font-style: italic; }
.cm-link { text-decoration: underline; }
.cm-error { color: red; }
.cm-invalidchar { color: red; }
.cm-constant { color: rgb(38, 139, 210); }
.cm-defined { color: rgb(181, 137, 0); }
div.CodeMirror span.CodeMirror-matchingbracket { color: rgb(0, 255, 0); }
div.CodeMirror span.CodeMirror-nonmatchingbracket { color: rgb(255, 34, 34); }
.cm-s-inner .CodeMirror-activeline-background { background: inherit; }
.CodeMirror { position: relative; overflow: hidden; }
.CodeMirror-scroll { height: 100%; outline: 0px; position: relative; box-sizing: content-box; background: inherit; }
.CodeMirror-sizer { position: relative; }
.CodeMirror-gutter-filler, .CodeMirror-hscrollbar, .CodeMirror-scrollbar-filler, .CodeMirror-vscrollbar { position: absolute; z-index: 6; display: none; outline: 0px; }
.CodeMirror-vscrollbar { right: 0px; top: 0px; overflow: hidden; }
.CodeMirror-hscrollbar { bottom: 0px; left: 0px; overflow: auto hidden; }
.CodeMirror-scrollbar-filler { right: 0px; bottom: 0px; }
.CodeMirror-gutter-filler { left: 0px; bottom: 0px; }
.CodeMirror-gutters { position: absolute; left: 0px; top: 0px; padding-bottom: 10px; z-index: 3; overflow-y: hidden; }
.CodeMirror-gutter { white-space: normal; height: 100%; box-sizing: content-box; padding-bottom: 30px; margin-bottom: -32px; display: inline-block; }
.CodeMirror-gutter-wrapper { position: absolute; z-index: 4; background: 0px 0px !important; border: none !important; }
.CodeMirror-gutter-background { position: absolute; top: 0px; bottom: 0px; z-index: 4; }
.CodeMirror-gutter-elt { position: absolute; cursor: default; z-index: 4; }
.CodeMirror-lines { cursor: text; }
.CodeMirror pre { border-radius: 0px; border-width: 0px; background: 0px 0px; font-family: inherit; font-size: inherit; margin: 0px; white-space: pre; overflow-wrap: normal; color: inherit; z-index: 2; position: relative; overflow: visible; }
.CodeMirror-wrap pre { overflow-wrap: break-word; white-space: pre-wrap; word-break: normal; }
.CodeMirror-code pre { border-right: 30px solid transparent; width: fit-content; }
.CodeMirror-wrap .CodeMirror-code pre { border-right: none; width: auto; }
.CodeMirror-linebackground { position: absolute; inset: 0px; z-index: 0; }
.CodeMirror-linewidget { position: relative; z-index: 2; overflow: auto; }
.CodeMirror-wrap .CodeMirror-scroll { overflow-x: hidden; }
.CodeMirror-measure { position: absolute; width: 100%; height: 0px; overflow: hidden; visibility: hidden; }
.CodeMirror-measure pre { position: static; }
.CodeMirror div.CodeMirror-cursor { position: absolute; visibility: hidden; border-right: none; width: 0px; }
.CodeMirror div.CodeMirror-cursor { visibility: hidden; }
.CodeMirror-focused div.CodeMirror-cursor { visibility: inherit; }
.cm-searching { background: rgba(255, 255, 0, 0.4); }
span.cm-underlined { text-decoration: underline; }
span.cm-strikethrough { text-decoration: line-through; }
.cm-tw-syntaxerror { color: rgb(255, 255, 255); background-color: rgb(153, 0, 0); }
.cm-tw-deleted { text-decoration: line-through; }
.cm-tw-header5 { font-weight: 700; }
.cm-tw-listitem:first-child { padding-left: 10px; }
.cm-tw-box { border-style: solid; border-right-width: 1px; border-bottom-width: 1px; border-left-width: 1px; border-color: inherit; border-top-width: 0px !important; }
.cm-tw-underline { text-decoration: underline; }
@media print {
  .CodeMirror div.CodeMirror-cursor { visibility: hidden; }
}


html {
	font-size: 19px;
}

html, body {
	margin: auto;
	background: #fefefe;
	-webkit-font-smoothing: antialiased;
}
body {
	font-family: "Vollkorn", Palatino, Times;
	color: #333;
	line-height: 1.4;
	text-align: justify;
}

#write {
	max-width: 960px;
	margin: 0 auto;
	margin-bottom: 2em;
	line-height: 1.53;
	padding-top: 40px;
}

@media only screen and (min-width: 1400px) {
	#write {
		max-width: 1100px;
	}
}

@media print {
	html {
		font-size: 13px;
	}
}

/* Typography
-------------------------------------------------------- */

#write>h1:first-child,
h1 {
	margin-top: 1.6em;
	font-weight: normal;
}

h1 {
	font-size:3em;
}

h2 {
	margin-top:2em;
	font-weight: normal;
}

h3 {
	font-weight: normal;
	font-style: italic;
	margin-top: 3em;
}

h1, 
h2, 
h3{
	text-align: center;
}

h2:after{
	border-bottom: 1px solid #2f2f2f;
    content: '';
    width: 100px;
    display: block;
    margin: 0 auto;
    height: 1px;
}

h1+h2, h2+h3 {
	margin-top: 0.83em;
}

p,
.mathjax-block {
	margin-top: 0;
	-webkit-hypens: auto;
	-moz-hypens: auto;
	hyphens: auto;
}
ul {
	list-style: square;
	padding-left: 1.2em;
}
ol {
	padding-left: 1.2em;
}

@media print {
	ol {
		padding-left: 40px;
	}
}

blockquote {
	margin-left: 1em;
	padding-left: 1em;
	border-left: 1px solid #ddd;
}
code,
pre {
	font-family: "Consolas", "Menlo", "Monaco", monospace, serif;
	font-size: .9em;
	background: white;
}
.md-fences{
	margin-left: 1em;
	padding-left: 1em;
	border: 1px solid #ddd;
	padding-bottom: 8px;
	padding-top: 6px;
	margin-bottom: 1.5em;
}

a {
	color: #2484c1;
	text-decoration: none;
}
a:hover {
	text-decoration: underline;
}
a img {
	border: none;
}
h1 a,
h1 a:hover {
	color: #333;
	text-decoration: none;
}
hr {
	color: #ddd;
	height: 1px;
	margin: 2em 0;
	border-top: solid 1px #ddd;
	border-bottom: none;
	border-left: 0;
	border-right: 0;
}
.ty-table-edit {
	background: #ededed;
    padding-top: 4px;
}
table {
	margin-bottom: 1.333333rem
}
table th,
table td {
	padding: 8px;
	line-height: 1.333333rem;
	vertical-align: top;
	border-top: 1px solid #ddd
}
table th {
	font-weight: bold
}
table thead th {
	vertical-align: bottom
}
table caption+thead tr:first-child th,
table caption+thead tr:first-child td,
table colgroup+thead tr:first-child th,
table colgroup+thead tr:first-child td,
table thead:first-child tr:first-child th,
table thead:first-child tr:first-child td {
	border-top: 0
}
table tbody+tbody {
	border-top: 2px solid #ddd
}

.task-list{
	padding:0;
}

.md-task-list-item {
	padding-left: 1.6rem;
}

.md-task-list-item > input:before {
	content: '\221A';
	display: inline-block;
	width: 1.33333333rem;
  	height: 1.6rem;
	vertical-align: middle;
	text-align: center;
	color: #ddd;
	background-color: #fefefe;
}

.md-task-list-item > input:checked:before,
.md-task-list-item > input[checked]:before{
	color: inherit;
}
.md-tag {
	color: inherit;
	font: inherit;
}
#write pre.md-meta-block {
	min-height: 35px;
	padding: 0.5em 1em;
}
#write pre.md-meta-block {
	white-space: pre;
	background: #f8f8f8;
	border: 0px;
	color: #999;
	
	width: 100vw;
	max-width: calc(100% + 60px);
	margin-left: -30px;
	border-left: 30px #f8f8f8 solid;
	border-right: 30px #f8f8f8 solid;

	margin-bottom: 2em;
	margin-top: -1.3333333333333rem;
	padding-top: 26px;
	padding-bottom: 10px;
	line-height: 1.8em;
	font-size: 0.9em;
	font-size: 0.76em;
	padding-left: 0;
}
.md-img-error.md-image>.md-meta{
	vertical-align: bottom;
}
#write>h5.md-focus:before {
	top: 2px;
}

.md-toc {
	margin-top: 40px;
}

.md-toc-content {
	padding-bottom: 20px;
}

.outline-expander:before {
	color: inherit;
	font-size: 14px;
	top: auto;
	content: "\f0da";
	font-family: FontAwesome;
}

.outline-expander:hover:before,
.outline-item-open>.outline-item>.outline-expander:before {
  	content: "\f0d7";
}

/** source code mode */
#typora-source {
	font-family: Courier, monospace;
    color: #6A6A6A;
}

.html-for-mac #typora-sidebar {
    -webkit-box-shadow: 0 6px 12px rgba(0, 0, 0, .175);
    box-shadow: 0 6px 12px rgba(0, 0, 0, .175);
}

.cm-s-typora-default .cm-header, 
.cm-s-typora-default .cm-property,
.CodeMirror.cm-s-typora-default div.CodeMirror-cursor {
	color: #428bca;
}

.cm-s-typora-default .cm-atom, .cm-s-typora-default .cm-number {
	color: #777777;
}

.typora-node .file-list-item-parent-loc, 
.typora-node .file-list-item-time, 
.typora-node .file-list-item-summary {
	font-family: arial, sans-serif;
}

.md-task-list-item>input {
    margin-left: -1.3em;
    margin-top: calc(1rem - 12px);
}

.md-mathjax-midline {
	background: #fafafa;
}

.md-fences .code-tooltip {
	bottom: -2em !important;
}

.dropdown-menu .divider {
	border-color: #e5e5e5;
}


</style><title>再次谈谈C++语言中的智能指针</title>
</head>
<body class='typora-export os-windows'><div class='typora-export-content'>
<div id='write'  class=''><h1 id='再次谈谈c++语言中的智能指针'><span>再次谈谈C</span><span>+</span><span>+</span><span>语言中的智能指针</span></h1><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang=""><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang=""><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 13.1458px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 刘文庆 整理</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 30px;"></div><div class="CodeMirror-gutters" style="display: none; height: 30px;"></div></div></div></pre><p><span>最近帮助一小朋友调试程序过程中，发现程序过程中混合使用了智能指针和裸指针的情况，导致程序复杂度提高后，在多线程运行状态下随机出现内存异常情况，找了很长时间，最后还是因为智能指针自动释放内存后裸指针还在另外一个线程中运行从而引起内存异常。受小朋友请求，写一篇C</span><span>+</span><span>+</span><span>语言中关于智能指针的文章，以帮助迷茫的正确使用智能指针。</span></p><ol start='' ><li><p><strong><span>C</span><span>+</span><span>+</span><span>语言为什么引入智能指针</span></strong></p></li></ol><p><span>我们写程序时定义指针通常语义如下：</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="C++"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 13.1458px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> <span class="cm-variable">ClassName</span><span class="cm-operator">&lt;</span><span class="cm-variable">T</span><span class="cm-operator">&gt;</span> &nbsp;<span class="cm-operator">*</span><span class="cm-variable">p</span> <span class="cm-operator">=</span> <span class="cm-keyword">new</span> &nbsp;<span class="cm-variable">ClassName</span><span class="cm-operator">&lt;</span><span class="cm-variable">T</span><span class="cm-operator">&gt;</span>();</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">p</span><span class="cm-operator">-&gt;</span><span class="cm-variable">FunctionName</span>();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">delete</span> <span class="cm-variable">p</span>;</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 151px;"></div><div class="CodeMirror-gutters" style="display: none; height: 151px;"></div></div></div></pre><p>&nbsp;</p><p><span>这样可能存在两种情况造成内存泄露，</span></p><p><span>第一种情况，忘记写delete p；语句，造成p指引的对象没被删除，经常出现的可能情形是函数内分配的内存块，需传给函数外部使用，如：</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang=""><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang=""><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 13.1458px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">ClassName&lt;T&gt; *  CreateObject()</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">{</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; Return &nbsp; new ClassName&lt;T&gt;\(\);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">ClassName&lt;T&gt;  *p = CreateObject();</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 273px;"></div><div class="CodeMirror-gutters" style="display: none; height: 273px;"></div></div></div></pre><p><span>这种情况下，很容易忘记删除p对象指针。</span></p><p><span>第二种情况，在动态分配指针和删除指针前发生异常，导致程序中途退出，从而引起内存泄露，如：</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="c++"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 13.1458px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">ClassName</span><span class="cm-operator">&lt;</span><span class="cm-variable">T</span><span class="cm-operator">&gt;</span> &nbsp;<span class="cm-operator">*</span><span class="cm-variable">p</span> <span class="cm-operator">=</span> <span class="cm-keyword">new</span> &nbsp;<span class="cm-variable">ClassName</span><span class="cm-operator">&lt;</span><span class="cm-variable">T</span><span class="cm-operator">&gt;</span>();</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Try</span>{</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; <span class="cm-variable">Int</span> &nbsp;<span class="cm-variable">m</span> <span class="cm-operator">=</span> <span class="cm-variable">p</span><span class="cm-operator">-&gt;</span><span class="cm-variable">IntNumber</span>()<span class="cm-operator">/</span><span class="cm-number">0</span>;<span class="cm-comment">//发生被零除异常。</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">Catch</span>(<span class="cm-variable">…</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">{</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">delete</span> <span class="cm-variable">p</span>;</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 394px;"></div><div class="CodeMirror-gutters" style="display: none; height: 394px;"></div></div></div></pre><ol start='' ><li><p><strong><span>标准C</span><span>+</span><span>+</span><span>11、C</span><span>+</span><span>+</span><span>14、C</span><span>+</span><span>+</span><span>17中可以使用的智能指针</span></strong></p></li></ol><p><span>实际在C</span><span>+</span><span>+</span><span>11标准前，许多系统都设计了智能指针类，以消除C</span><span>+</span><span>+</span><span>指针容易发生内存泄露的问题，比较出名的有微软COM框架的 CComPtr和CComQIPtr，开发过windows系统下COM组件的同学都用过这两个智能指针，通过使用智能指针简化了COM开发过程中很多QueryInterface函数和Realse函数的使用，其实在早期的C</span><span>+</span><span>+</span><span>语言中stl标准模板库中就提供了一个标准版的智能指针，std:: auto</span><span>_</span><span>ptr,由于auto</span><span>_</span><span>ptr设计上的局限性，特别是其采用的所有权转移的设计策略，在使用上存在很多限制，很容易造成程序代码设计缺陷而引起程序灾难硼溃，所以很少被程序员使用，我记得20年前看到一本《C</span><span>+</span><span>+</span><span> Templates》图书中就对智能指针进行了分析，提出了Holder和trule两种模式的智能指针，后来接触Boost标准库，看到C</span><span>+</span><span>+</span><span>11标准中的智能指针原型，很是佩服，在封装OSG</span><span>(</span><span>Open Scene Grighics </span><span>)</span><span>图形开发类库时，接触到了osg::ref</span><span>_</span><span>ptr和osg:: observer</span><span>_</span><span>ptr智能指针的另一类型的实现，对智能指针有了进一步理解，今天就这个话题比较全面的总结以下智能指针的相关知识点，希望你C</span><span>+</span><span>+</span><span>爱好者有所帮助。</span></p><p><span>从C</span><span>+</span><span>+</span><span>11标准开始，引入了Boost标准库中的智能指针，使得C</span><span>+</span><span>+</span><span>编程语言中的智能指针类型达到了实用化的地步，作者建议在以后开发过程中尽可能的使用标准C</span><span>+</span><span>+</span><span>中的智能指针类型，以提高程序的可移植性，下面我们首先了解一下C</span><span>+</span><span>+</span><span>11、C</span><span>+</span><span>+</span><span>14、C</span><span>+</span><span>+</span><span>17标准中提供了那些智能智能指针，以及如何应用。</span></p><ol start='' ><li><p><strong><span>std::auto</span><span>_</span><span>ptr  </span></strong></p></li></ol><p><span>C</span><span>+</span><span>+</span><span>98版本的库中就提供了 auto</span><span>_</span><span>ptr 的智能指针，文档介绍：std::auto</span><span>_</span><span>ptr。auto</span><span>_</span><span>ptr 通过管理权转移的方式解决智能指针的拷贝问题，保证一个资源在任何时刻都只有一个对象在对其进行管理，这时同一个资源就不会被多次释放了，测试代码如下：</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="" style="break-inside: unset;"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang=""><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 13.1458px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">int main()</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">{</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">std::auto_ptr&lt;int&gt; ap1(new int(1));</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">std::auto_ptr&lt;int&gt; ap2(ap1);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">/*ap2实现了对ap1对象内部指针_Ty* _Myptr的所有权转移，以后你不能通过ap1对象修改指针内容了*/</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">*ap2 = 10;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">std::auto_ptr&lt;int&gt; ap3(new int(1));</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">std::auto_ptr&lt;int&gt; ap4(new int(2));</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">ap3 = ap4;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">/*a3实现了对ap4对象内部指针_Ty* _Myptr的所有权转移，以后你不能通过ap4对象修改指针内容了*/</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">return 0;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 697px;"></div><div class="CodeMirror-gutters" style="display: none; height: 697px;"></div></div></div></pre><p><span>对一个对象的管理权转移后也就意味着，该对象不能再用对原来管理的资源进行访问了，会造成对象悬空，比如上面的 sp1、sp2，继续使用这两个对象程序就会直接崩溃，因此使用 std::auto</span><span>_</span><span>ptr之前必须先了解它的机制，否则程序很容易出问题。</span></p><p><span>Std::auto</span><span>_</span><span>ptr是一个失败设计，很多公司也都明确规定了禁止使用auto</span><span>_</span><span>ptr，C</span><span>+</span><span>+</span><span>17标准直接将std::auto</span><span>_</span><span>ptr移除，作者建议小伙伴们以后不要使用std::auto</span><span>_</span><span>ptr了。</span></p><ol start='' ><li><p><strong><span>std::unique</span><span>_</span><span>ptr</span></strong></p></li></ol><p><span>C</span><span>+</span><span>+</span><span>11标准中为了克服std::auto</span><span>_</span><span>ptr的缺陷，利用C</span><span>+</span><span>+</span><span>11编译器标准的新特性，提供了一个不可拷贝的std::unique</span><span>_</span><span>ptr智能指针，其设计语义与std::auto</span><span>_</span><span>ptr十分相识，区别就是通过重载构造函数和=号操作符，防止用户多次拷贝对象：</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang=""><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang=""><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 13.1458px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">unique_ptr(const unique_ptr&amp;) &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  = delete;</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">unique_ptr&amp; operator=(const unique\_ptr&amp;\) = delete;</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 91px;"></div><div class="CodeMirror-gutters" style="display: none; height: 91px;"></div></div></div></pre><p><span>通过对复制构造函数与等号操作符删除重载，使得std::unique</span><span>_</span><span>ptr类不能被复制和赋值,代码事例如下：</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="c++"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 13.1458px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">void</span> &nbsp;<span class="cm-def">testFunction</span>(<span class="cm-variable">std::unique_ptr</span><span class="cm-operator">&lt;</span><span class="cm-variable-3">int</span><span class="cm-operator">&gt;</span> <span class="cm-operator">&amp;</span><span class="cm-variable">tptr</span>)</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">{<span class="cm-comment">//作为函数参数</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-variable-3">int</span> &nbsp;<span class="cm-variable">t</span> <span class="cm-operator">=</span> <span class="cm-operator">*</span><span class="cm-variable">tptr</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">std::unique_ptr</span><span class="cm-operator">&lt;</span><span class="cm-variable-3">int</span><span class="cm-operator">&gt;</span> &nbsp;<span class="cm-def">p1</span>(<span class="cm-keyword">new</span> <span class="cm-variable-3">int</span>(<span class="cm-number">1</span>));</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// std::unique_ptr&lt;int&gt;  p2 = p1;//错误</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">// std::unique_ptr&lt;int&gt;  p3(p1);//错误</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;<span class="cm-variable">testFunction</span>(<span class="cm-variable">p1</span>);</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 364px;"></div><div class="CodeMirror-gutters" style="display: none; height: 364px;"></div></div></div></pre><p><span>   由于std::unique</span><span>_</span><span>ptr不能被复制和拷贝，因此std::unique</span><span>_</span><span>ptr尽量不要应用于类成员变量，否则包含std::unique</span><span>_</span><span>ptr的类不能被复制和拷贝。</span></p><h4 id='3stdshareptr和stdweakptr智能指针本文讨论的重点'><span>3、std::share</span><span>_</span><span>ptr和std::weak</span><span>_</span><span>ptr智能指针</span><span>(</span><span>本文讨论的重点)</span></h4><h5 id='31-stdshareptr类型的智能指针'><span>3</span><span>.</span><span>1 std::share</span><span>_</span><span>ptr类型的智能指针</span></h5><p><span>为了解决std::unique</span><span>_</span><span>ptr智能指针的问题，C</span><span>+</span><span>+</span><span>11标准引入了std::share</span><span>_</span><span>ptr类型的智能指针，std::share</span><span>_</span><span>ptr核心思想是共享所有权（shared ownership）和引用计数，下面我们以伪代码形式给出std::share</span><span>_</span><span>ptr的实现原理：</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="" style="break-inside: unset;"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang=""><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 13.4792px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">template&lt;class T&gt;<span class="cm-tab" role="presentation" cm-text="	">   </span>class shared_ptr</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">{</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">private: // RAII思想</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> T* _ptr; &nbsp; //智能指针管理的动态分配的内存对象</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; int* _pCount;//智能指针内部维护的引用计数器</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; //(注意必须是指针类型，小朋友思考一下为什么)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; public:</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; //构造的时候把pcount赋值1</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; shared_ptr(T* ptr ):_ptr(ptr), _pCount(new int(1))<span class="cm-tab" role="presentation" cm-text="	">   </span><span class="cm-tab" role="presentation" cm-text="	">    </span>{}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>~shared_ptr()//析构函数。调用Release()函数</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>{</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span>Release();</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>// 复制构造函数</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>shared_ptr(const shared_ptr&lt;T&gt;&amp; sp):_ptr(sp._ptr)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span>, _pCount(sp._pCount)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>{</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span>(*_pCount)++;// 注意内部将附加的引用计数+1</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>// sp1 = sp3  拷贝构造函数</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>shared_ptr&lt;T&gt;&amp; operator=(const shared_ptr&lt;T&gt;&amp; sp)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>{</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span>//if (this != &amp;sp)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span>if (_ptr != sp._ptr)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span>{</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span>Release();//如果自身类型非空，首先释放自身</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span>_ptr = sp._ptr;  //与复制构造函数相同</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span>_pCount = sp._pCount;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span>++(*_pCount\);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span>}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span>return *this;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>void Release() //释放函数</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>{</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span>//析构一次 pcount--</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span>//当计数器==0时且ptr存在才释放资源</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span>if (--(*_pCount) == 0 &amp;&amp; _ptr)//仔细读读该语句的语义</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span>{</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span>delete _ptr;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span>_ptr = nullptr;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span>delete _pCount;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span>_pCount = nullptr;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span>}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>//重载操作符，保证用户像使用普通指针一样</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>T&amp; operator*()使用智能指针</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>{</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span>return *_ptr;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>T* operator-&gt;()</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>{</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span>return _ptr;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>T* get()</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>{</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span>return _ptr;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; };</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 1851px;"></div><div class="CodeMirror-gutters" style="display: none; height: 1851px;"></div></div></div></pre><p><span>std::share</span><span>_</span><span>ptr通过内部维护一个引用计数器</span><span>_</span><span>pCount，保证了其可以被复制和拷贝，析构函数中更具对象中引用计数器</span><span>_</span><span>pCount指向的内存中的计数值，决定是否删除其维护的动态内存对象。这样std::share</span><span>_</span><span>ptr就可应用于全局变量、局部变量、函数参数、类内部成员变量</span><span>(</span><span>不用考虑类能否被复制和拷贝了</span><span>)</span><span>，应用事例如下：</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang=""><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang=""><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 13.1458px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">std::shared_ptr&lt;float&gt;  sP(new float(12));</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">std::shared_ptr&lt;float&gt; sp1 = std::make_shared&lt;float&gt;(float(13.0));</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">std::shared_ptr&lt;float&gt; sp2(sP);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">class Person</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">{</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">public:</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">std::shared_ptr&lt;double&gt; birthTime= std::make_shared&lt;double&gt;(float(0.0));</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">void setBirthTime(std::shared_ptr&lt;double&gt; cbirthTime)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">{</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  birthTime = cbirthTime;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">};</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 364px;"></div><div class="CodeMirror-gutters" style="display: none; height: 364px;"></div></div></div></pre><p><strong><span>3</span><span>.</span><span>2 std::share</span><span>_</span><span>ptr问题：当存储的T</span><span>*</span><span> </span><span>_</span><span>ptr对象内部存在交叉或交互引用时会出现死锁，对象得不到释放，从而引起内存泄露。</span></strong></p><p><span>正式因为std::share</span><span>_</span><span>ptr内部维护一个引用计数器int</span><span>*</span><span> </span><span>_</span><span>pCount; 保证了其可以像普通变量一样被复制和拷贝，而不用考虑std::share</span><span>_</span><span>ptr内部T</span><span>*</span><span> </span><span>_</span><span>ptr; 对象分配的内存释放问题</span><span>(</span><span>当最后一个对象析构函数判断</span><span>*</span><span>pCount计数器为0时，自动释放T</span><span>*</span><span> ptr分配的内存</span><span>)</span><span>。但是std::share</span><span>_</span><span>ptr类同时也存在一个问题，就是其内部维护的T</span><span>*</span><span> </span><span>_</span><span>ptr对象内部，如果存在循环引用的时候，</span><span>*</span><span>pCount计数器就会被相互锁定，在析构函数中不可能被减为0，因此内部T</span><span>*</span><span> </span><span>_</span><span>ptr指向的内存块得不到释放，从而造成内存泄露。这种情况的事例代码如下：</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="" style="break-inside: unset;"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang=""><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 13.1458px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">class  Person</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">{</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">std::string Name;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">int Age;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">public:</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">Person(std::string name, int age) :Name(name), Age(age) \{};</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">std::shared_ptr&lt;Person&gt; &nbsp; Husband;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">std::shared_ptr&lt;Person&gt; &nbsp; wife;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">};</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">std::shared_ptr&lt;Person&gt;  aMen(new Person("MenPerson", 27));</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">std::shared_ptr&lt;Person&gt;  aWomen(new Person("WomenPerson", 25));</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">aMen-&gt;wife = aWomen;// aMen对象内部引用了aWomen对像</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">aWomen-&gt;Husband = aMen;// aWomen对象内部引用了aMen对像</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 606px;"></div><div class="CodeMirror-gutters" style="display: none; height: 606px;"></div></div></div></pre><p><span>由于aMen对象内部维护的Person</span><span>*</span><span> </span><span>_</span><span>ptr对象</span><span>(</span><span>注意T</span><span>*</span><span> </span><span>_</span><span>ptr中T被Person替换了</span><span>)</span><span>内部aMen</span><span>-</span><span>&gt;wife引用了aWomen，使得而aWomen对象的引用计数器</span><span>*</span><span>pCount变为2；</span></p><p><span>同时aWomen对象内部维护的Person</span><span>*</span><span> </span><span>_</span><span>ptr对象内部aMen</span><span>-</span><span>&gt; Husband引用了aMen，使得而aMen对象的引用计数器</span><span>*</span><span>pCount变为2；</span></p><p><span>这样在析构函数决定释放他们Person</span><span>*</span><span> </span><span>_</span><span>ptr指针指向内存的时候，其引用计数器</span><span>*</span><span>pCount在析构函数中变为1，达不到释放的条件，从而两个对象中的Person</span><span>*</span><span> </span><span>_</span><span>ptr指针都不能被释放，因而造成内存泄露。</span></p><p><span>这种情况，如果将std::shared</span><span>_</span><span>ptr智能指针应用于双向链表，同样会造成循环应用，从而发生内存泄露，事例代码如下：</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="" style="break-inside: unset;"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang=""><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 13.1458px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">struct ListNode</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">{</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">std::weak_ptr&lt;ListNode&gt; _prev;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>std::weak_ptr&lt;ListNode&gt; _next;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>~ListNode()</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>{</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span>cout &lt;&lt; "~ListNode()" &lt;&lt; endl;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">};</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">void test_shared_ptr2(\)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">{</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>std::shared_ptr&lt;ListNode&gt; n1 (new ListNode);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>std::shared_ptr&lt;ListNode&gt; n2 (new ListNode);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>n1-&gt;_next = n2;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>n2-&gt;_prev = n1;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>cout &lt;&lt; n1.use_count() &lt;&lt; endl;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span>cout &lt;&lt; n2.use_count() &lt;&lt; endl;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 765px;"></div><div class="CodeMirror-gutters" style="display: none; height: 765px;"></div></div></div></pre><p><strong><span>3</span><span>.</span><span>3 std::weak</span><span>_</span><span>ptr类型的智能指针</span></strong></p><p><span>为了解决对象间循环引用的问题，C</span><span>+</span><span>+</span><span>11标准引入了弱引用智能指针std::weak</span><span>_</span><span>ptr， std::weak</span><span>_</span><span>ptr 可以看做是 shared</span><span>_</span><span>ptr 的助手，它不管理shared</span><span>_</span><span>ptr 内部的指针。 std::weak</span><span>_</span><span>prt没有重载操作符 </span><span>*</span><span> 和 </span><span>-</span><span>&gt;，因为它不共享指针，不能操作资源，所以它的构造不会增加引用计数，析构也不会减少引用计数，它的主要作用就是作为一个旁观者监视shared</span><span>_</span><span>ptr中管理的资源是否存在。智能指针std::weak</span><span>_</span><span>ptr不能单独使用，只能由std::shared</span><span>_</span><span>ptr类型的对象生成std::weak</span><span>_</span><span>ptr类型的对象,即Weak</span><span>_</span><span>ptr只能从share</span><span>_</span><span>ptr 构造，使用也只能转成share ptr使用，当转成share ptr时，若原始对象已经销毁，则share ptr为空，以此来判断原始对象是否可用。</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="c++" style="break-inside: unset;"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="c++"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 13.1458px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">class</span> &nbsp;<span class="cm-def">TPerson</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">{</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">std::string</span> <span class="cm-variable">Name</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">int</span> <span class="cm-variable">Age</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">public</span>:</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">TPerson</span>(<span class="cm-variable">std::string</span> <span class="cm-variable">name</span>, <span class="cm-variable-3">int</span> <span class="cm-variable">age</span>) :<span class="cm-variable">Name</span>(<span class="cm-variable">name</span>), <span class="cm-variable">Age</span>(<span class="cm-variable">age</span>) {};</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">std::weak_ptr</span><span class="cm-operator">&lt;</span><span class="cm-variable">TPerson</span><span class="cm-operator">&gt;</span> &nbsp; <span class="cm-variable">Husband</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">std::weak_ptr</span><span class="cm-operator">&lt;</span><span class="cm-variable">TPerson</span><span class="cm-operator">&gt;</span> &nbsp; <span class="cm-variable">wife</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">int</span> <span class="cm-variable">getAge</span>() { <span class="cm-keyword">return</span> <span class="cm-variable">Age</span>; }</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">};</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable-3">int</span> <span class="cm-def">main</span>()</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">{</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">std::shared_ptr</span><span class="cm-operator">&lt;</span><span class="cm-variable">TPerson</span><span class="cm-operator">&gt;</span> &nbsp;<span class="cm-variable">aMen</span> <span class="cm-operator">=</span> <span class="cm-comment">//C++14建议使用make_share函数构建智能指针</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">std::make_shared</span><span class="cm-operator">&lt;</span><span class="cm-variable">TPerson</span><span class="cm-operator">&gt;</span>( <span class="cm-variable">TPerson</span>(<span class="cm-string">"MenPerson"</span>, <span class="cm-number">27</span>));</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">std::shared_ptr</span><span class="cm-operator">&lt;</span><span class="cm-variable">TPerson</span><span class="cm-operator">&gt;</span> &nbsp;<span class="cm-variable">aWomen</span>(<span class="cm-keyword">new</span> <span class="cm-variable">TPerson</span>(<span class="cm-string">"WomenPerson"</span>, <span class="cm-number">25</span>));</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">aMen</span><span class="cm-operator">-&gt;</span><span class="cm-variable">wife</span> <span class="cm-operator">=</span> <span class="cm-variable">aWomen</span>;<span class="cm-comment">// aMen对象内部引用了aWomen对像</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">aWomen</span><span class="cm-operator">-&gt;</span><span class="cm-variable">Husband</span> <span class="cm-operator">=</span> <span class="cm-variable">aMen</span>;<span class="cm-comment">// aWomen对象内部引用了aMen对像</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">aMen</span><span class="cm-operator">-&gt;</span><span class="cm-variable">wife</span>.<span class="cm-variable">lock</span>()<span class="cm-operator">-&gt;</span><span class="cm-variable">getAge</span>();<span class="cm-comment">//通wife对象的lock()函数先得到一个</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 909px;"></div><div class="CodeMirror-gutters" style="display: none; height: 909px;"></div></div></div></pre><p><strong><span>3</span><span>.</span><span>4 std::shared</span><span>_</span><span>ptr和std::weak</span><span>_</span><span>ptr两种类型的智能指针内部联系及工作原理分析</span></strong></p><p><span>很多文章提到std::weak</span><span>_</span><span>ptr内部维护了一个若引用计数器</span><span>_</span><span>Weaks变量，用于记录与分配的内存对象关联的所有std::weak</span><span>_</span><span>ptr对象的个数，通过对std::shared</span><span>_</span><span>ptr和std::weak</span><span>_</span><span>ptr原码的追踪，其实这两个类的内部关系是这样的：</span></p><p><img src="data:image/png;base64,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c+aMoXk2yQRMAAKsz1u0aNHGjRvxnxlITwSYnsbR+Pd///f/+q//+rznPe+4445bunTpwoUL3fX1hNGBTWA6CWT2vdMiGW+99daXvOQljz/++HS2BpfaBJpCYMcdd2TKlRu8ssEzZsxgMV96Hp3EjpCWRXv6059euD/E99Zhy0hZpBK4nbsOTYZjL80XM9qtKXzOk59Ms0mWxNPAvZr9wx/+8Kqrrvrnf/7nNWvW7Lfffjgjv/jFL7rra0r7t50mMCoC9L0//elPX/jCF3YwYFoko261L7vssr333ntU9eF8TcAEOhNApb397W9vFwbJ+Otf/zr99bDDDvvud7/bLjw7RXCzxa8s+/ubv/mbdoFZIPje9743fr322mv/+I//uF3g448//gtf+EL8yiLCZz7zme0Co1yZPs43+7bbbtt///0j/J//+Z9/6lOfapc4c9MnnXRS/PrVr351yZIl5cDssD7ggAPc/EzABEygJYG77777rW99a9cZnumSjOvWrdt3333dYkzABMaTwKZNm9je0W4BSdkDx0MKOzynsOA4RNj98pe/bFfwsuOQ+8x2gXF2ol/TX0m53e6TsnO0g9ll52gHTyoGoEeJEpbgkmRG5etf/zraETG9xx57vPrVr/6Hf/gHd33j2eBtlQmMCQH1vZaMT1WHvIzuN8ekddoME2hJILPbMr0yAQQrntErrriCFY2ISK1lZFYax627PjcYEzCBzgQy+17vmHZDMgETMIEGE2C/Cxulf/d3f5dN0whHZszvueeeSy+99A/+4A9SB2SDS2jTTcAExoOAJeN41IOtMAETMIFeCPzoRz/6i7/4C5QiU8/Monz0ox/dsmULG1/wLxa25vSSqsOagAmYQFsCloxuHCbQBwIsHdt1113534e0hp4EggPj3/3udw89Z2fYM4H169d/6EMfYi/Ly1/+ch7B+J73vEeP9WYTTGFfds9JO4IJmIAJdCRgyegGYgJ9IHDeeec99NBDOHj6kNbQk2CbCMaz8LnDho+hG+UMWxBg38zLXvYyHr5IS2NjNc/TOe200/ysWbcVEzCB4RCwZOwP55tuuonHWPQnLafSQALz58/vi9W0ItpSy6R4KVxfsmiXyJFHHsnM5kCzcOI1CeBHxKeIWOQWJX0QT81kHd0ETGA8CTAcjNXklSVj3XbCdB6TekcffXTdhGrEr6BW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Qu20006PP/44BH77299OMweX3QRMwARMwASGQMDbX4YA2Vn0n8AVV1zxm9/85m//9m9RjbxYtv8ZOEUTMAETMAETMIGEgL2Mbg6NJPB7v/d769atY/vLnnvuuddee/385z9vZDFstAmYgAmYgAk0hIC9jA2pKJv53wn84Ac/YGst5/7kT/7ktttue+CBB0zIBEzABEzABExgcAQsGQfH1ikPigAz0cxHv//97yeDc88993/9r//1sY99bFCZOV0TMAETMAETMIGnPc0T024FzSPw4he/+J577rn33ntl+j777PM7v/M7v/jFL5pXEltsAiZgAiZgAg0hYC9jQyrKZv4XAeagmYlmPjqQvOUtb9m0adPdd99tSCZgAiZgAiZgAgMiYMk4ILBOdlAEmINmJpr56MjgAx/4wA477PDBD35wUFk6XRMwARMwAROYegKemJ76JtA0APvtt99//ud/3nXXXanhL3jBC+67776Yqm5amWyvCZiACZiACYw7AXsZx72GbF9KgNln5qCZiS5gOfnkk5GMt956q3GZgAmYgAmYgAkMgoC9jIOg6jQHReBd73rXZz/7WdThc57znDSPRx99dJdddnn9619/1VVXDSpvp2sCJmACJmACU0zAknGKK7+BRefB3XvssQfbX8q2H3zwwbfffvuDDz7YwGLZZBMwARMwARMYdwKemB73GrJ9QYB5Z/yLzEG3ZHLqqac+9NBD1113nYmZgAmYgAmYgAn0nYC9jH1H6gQHReDYY4/9p3/6p4cffnjnnXdumccznvGMI4444pvf/OagLHC6JmACJmACJjCtBCwZp7XmG1ju3XbbjYnpyy67LGxnGpqT8fWd73zn+vXrH3vssQYWziabgAmYgAmYwFgTsGQc6+qxcUGADS7PfOYzc4CsXbv2wAMPzAnpMCZgAiZgAiZgApkELBkzQTnY6AmwlvFXv/pV2PHjH/+Y9Yuf/vSnX/ayl8XJXXfd1Xpx9FVlC0zABEzABCaOgCXjxFXp1BTohhtuWLRo0apVq171qldNTaFdUBMwARMwARMYDQHvmB4Nd+dqAiZgAiZgAiZgAg0iYMnYoMqyqSZgAiZgAiZgAiYwGgKWjKPh7lxNwARMwARMwARMoEEELBkbVFk21QRMwARMwARMwARGQ8CScTTcnasJmIAJmIAJmIAJNIiAJWODKsummoAJmIAJmIAJmMBoCFgyjoa7czUBEzABEzABEzCBBhGwZGxQZdlUEzABEzABEzABExgNAUvG0XB3riZgAiZgAiZgAibQIAKWjA2qLJtqAiZgAiZgAiZgAqMhYMk4Gu7O1QRMwARMwARMwAQaRMCSsUGVZVNNwARMwARMwARMYDQELBlHw925moAJmIAJmIAJmECDCFgyNqiybKoJmIAJmIAJmIAJjIaAJeNouDtXEzABEzABEzABE2gQAUvGBlWWTTUBEzABEzABEzCB0RCwZBwNd+dqAiZgAiZgAiZgAg0iYMnYoMqyqSZgAiZgAiZgAiYwGgKWjKPh7lxNwARMwARMwARMoEEELBkbVFk21QRMwARMwARMwARGQ8CScTTcnasJmIAJmIAJmIAJNIiAJWODKsummoAJmIAJmIAJmMBoCFgyjoa7czUBEzABEzABEzCBBhGwZGxQZdlUEzABEzABEzABExgNAUvG0XB3riZgAiZgAiZgAibQIAKWjA2qLJtqAiZgAiZgAiZgAqMhYMk4Gu7O1QRMwARMwARMwAQaRMCSsUGVZVNNwARMwARMwARMYDQELBlHw925moAJmIAJmIAJmECDCFgyNqiybKoJmIAJmIAJmIAJjIaAJeNouDtXEzABEzABEzABE2gQAUvGBlWWTTUBEzABEzABEzCB0RCwZBwNd+dqAiZgAiZgAiZgAg0iYMnYoMqyqSZgAiZgAiZgAiYwGgKWjKPh7lxNwARMwARMwARMoEEELBkbVFk21QRMwARMwARMwARGQ8CScTTcnasJmIAJmIAJmIAJNIiAJWODKsummoAJmIAJmIAJmMBoCFgyjoa7czUBEzABEzABEzCBBhGwZGxQZdlUEzABEzABEzABExgNAUvG0XB3riZgAiZgAiZgAibQIAKWjA2qLJtqAiZgAiZgAiZgAqMhYMk4Gu7O1QRMwARMwARMwAQaRMCSsUGVZVNNwARMwARMwARMYDQELBlHw925moAJmIAJmIAJmECDCOywffv2BplrU00gCNxwww2LFi268sorFy5caCwmYAJB4DlPfgzEBEzABPpLwJKxvzyd2vAI/PCHPzz44IOHl59zMoGGEHje8573s5/9zKqxIdVlM02gMQQsGRtTVX00dOvWrdu2betjgiNJavPmzXgZV61aNWfOnJEY4ExNYAwJ6LrYuHHj3Llzx9A8m2QCJtBcApaMza27ipajF+fNmzcBkpHyz5gxg6Fx5syZFVk4mglMHIE77riDC9ySceIq1gUygdETsGQcfR0M2QKNKJPhnEMyWi8Ouf04uzEnYMk45hVk80yguQQsGZtbdxUt94hSEZyjmUATCPgCb0It2UYTaCQBP2SnkdVmo03ABEzABEzABExgmAQsGYdJ23mZgAmYgAmYgAmYQCMJWDI2stpstAmYgAmYgAmYgAkMk4Al4zBpOy8TMAETMAETMAETaCQBS8ZGVpuNNgETMAETMAETMIFhErBkHCZt52UCJmACJmACJmACjSRgydjIarPRJmACJmACJmACJjBMApaMw6TtvEzABEzABEzABEygkQQsGRtZbTbaBEzABEzABEzABIZJwJJxmLSdlwmYgAmYgAmYgAk0koAlYyOrzUabgAmYgAmYgAmYwDAJWDIOk7bzMgETMAETMAETMIFGErBkbGS12WgTMAETMAETMAETGCYBS8Zh0nZeJmACJmACJmACJtBIApaMjaw2G20CJmACJmACJmACwyRgyThM2s7LBEzABEzABEzABBpJwJKxkdVmo03ABEzABEzABExgmAQsGYdJ23mZgAmYgAmYgAmYQCMJWDI2stpstAmYgAmYgAmYgAkMk4Al4zBpOy8TMAETMAETMAETaCQBS8ZGVpuNNgETMAETMAETMIFhErBkHCZt52UCJmACJmACJmACjSRgydjIarPRJmACJmACJmACJjBMApaMw6TtvEzABEzABEzABEygkQQsGRtZbTbaBEzABEzABEzABIZJwJJxmLSdlwmYgAmYgAmYgAk0koAlYyOrzUabgAmYgAmYgAmYwDAJWDIOk7bzMgETMAETMAETMIFGErBkbGS12WgTMAETMAETMAETGCYBS8Zh0nZeJmACJmACJmACJtBIAjts3769kYbb6KoE7rjjjnnz5m3cuHHu3LlV03C8ySGwdevWbdu2TU55pr4kmzdvXrRo0apVq+bMmTP1MCYHwIwZM2bOnDk55XFJmknAkrGZ9VbDakvGGvAmLSp6kfsHS8ZJq1eXZ+IIIBm5z7dqnLiKbViBuktGOyEaVqXdzLUTohuhRv5ezQmh+wd7pBpZ5e2Nvv/++3ffffcJK9Q0F0edtqeGprkNjEnZu0hGOyHGpJ5shgl0JlDNCWGXs9uVCYw/AV+n419HU2JhF8loJ8REtgM7ISasWis7ITwUTVhLcHEmkoCv04ms1iYWKksy2h/exKq1zdNDoPKIUjni9LB1SU1g5AR8nY68CmyACPghO24JJmACJmACJmACJmACXQhYMrqJmIAJmIAJmIAJmIAJWDK6DZiACZiACZiACZiACdQjYC9jPX6ObQImYAImYAImYAJTQMCScQoq2UU0ARMwARMwARMwgXoELBnr8XNsEzABEzABEzABE5gCApaMU1DJLqIJmIAJmIAJmIAJ1CNgyViPn2ObgAmYgAmYgAmYwBQQsGScgkp2EU3ABEzABEzABEygHgFLxnr8HNsETMAETMAETMAEpoCAJeMUVLKLaAImYAImYAImYAL1CFgy1uPn2CZgAiZgAiZgAiYwBQQsGaegkl1EEzABEzABEzABE6hHwJKxHj/HNgETMAETMAETMIEpIGDJOAWV7CKagAmYgAmYgAmYQD0CA5GMX/nKV84///w3velN9WzrQ2xZcuqpp/YhLSdhAiZgAiZgAiZgAtNKYCCSEZif+9znHnjggXGgeuWVV27YsGEcLLENJmACJmACJmACJtBQAgORjPgX3/GOd4wDESxZsmRJ3y3Bc9n3NJ2gCUwkga/cspG/iSyaC2UCJmACU0VgIJJxsgl+7Wtfm+wCunQm0C8C71hx44f+dW2/UnM6JmACJmACIyRgydgbfOa4zznnnN7iOLQJTCuBzy0+/IUzd+1j6c/8+vf7mJqTMgETMAETyCdQSzIyP7v//vvvsMMOe+yxB1tMPvvZzxYyXrt27SGHHEIAgt1www3prwTWT3xe85rXEFK/oslIljOkyVfOc6wwafTImkTKbj8Sl2HEevDBBzNxsFeGUjCXTYKKTuJhGIlw5vnPf/6aNWve9773yfKYoc40O9MSBzMBEygT+O6/3/NvW3MvZwM0ARMwARPoL4HqkhGB9a1vfevrX//69u3b/+Vf/uXmm28uiLP169cj3a644goCsLTxbW97W5jO+Y9//OMXX3wxP/F5xSte8YY3vCEt2Pz58++//3502Ec/+tFPf/rTF1544fe+970I8Fd/9VdsalHWF1xwwfHHH5/qURI/88wzP//5z/PrBz7wgc985jP5yCgFivCyyy5T4ieddNKrX/3q2D0ja48++uiPfexjOj7jjDPyzc43wyFNYIQEWHq4YPkK/nDp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tCDn4yFq2pXM+kX+MyUdCxO5s2dKl1+Z/OrsHqD3l9uAD4lE/85gxnYZncfngQBt+ejgAmimpRQlttpEABYsKiPm2TUKatklB3KotHsyDgVPPawUp8M8lx+y08em76QaTSCerhXdSBzwE30FnwHtldH6Fi7zwlN4Cjx1yXuFSaObmY03ARNICeywffv2DkT07MB169b5KRJoSibRBjEAABnViIplqGMyvfOzfxkX4zk+bsomIALsyl+wYAF3Pjm+txSaL3A3IRMYfwKVL/DxL5otbBaB0XgZx5NRPHy74LfgvJ4JxxR2hd2aXQvLMK8pPKbhOutFcmeFVtcEHcAETMAETMAETMAE+kvAXsb+8nRqJjACApWdEPYyjqC2nKUJ9Eig8gXeYz4ObgJdCNjL6CZiAiZgAiZgAiZgAiZgyeg2YAImYAImYAImYAImUI+AvYz1+Dm2CZiACZiACZiACUwBAUvGKahkF9EETMAETMAETMAE6hHw9pd6/BzbBMaAQOXV8dr+wqNJ/cTpMahGm2ACrQnwEgqe11HhKVoGagL9JWDJ2F+eTs0ERkCgsmTcunUrknHbtm0jMNpZmoAJZBOYMWMGknHmzJnZMRzQBPpPIEsy2gnRf/BO0QT6R6COEwLVaMnYv6pwSiYwEAJIRuvFgZB1or0Q6CIZ7YToBabDmsDICNgJMTL0ztgETMAEpoNAF8kIBDshpqMluJTNJmAnRLPrz9abgAmYwNgT6C4Zx74INtAETMAETMAETMAETGCwBPyQncHydeomYAImYAImYAImMAEELBknoBJdBBMwARMwARMwARMYLAFLxsHydeomYAImYAImYAImMAEELBknoBJdBBMwARMwARMwARMYLAFLxsHydeomYAImYAImYAImMAEELBknoBJdBBMwARMwARMwARMYLAFLxsHydeomYAImYAImYAImMAEELBknoBJdBBMwARMwARMwARMYLAFLxsHydeomYAImYAImYAImMAEELBknoBJdBBMwARMwARMwARMYLAFLxsHydeomYAImYAImYAImMAEELBknoBJdBBMwARMwARMwARMYLAFLxsHydeomYAImYAImYAImMAEE/n+plMKiui1t+QAAAABJRU5ErkJggg==" referrerpolicy="no-referrer"></p><p><span>   从类图上可以看出，shared</span><span>_</span><span>ptr和weak</span><span>_</span><span>ptr类均继承于</span><span>_</span><span>Ptr</span><span>_</span><span>base类，说明两个类内部均包含了element</span><span>_</span><span>type</span><span>*</span><span> 对象的指针和用于构建引用计数的</span><span>_</span><span>ref</span><span>_</span><span>count</span><span>_</span><span>base</span><span>*</span><span>类型的指针，而</span><span>_</span><span>ref</span><span>_</span><span>count</span><span>_</span><span>base</span><span>*</span><span> </span><span>_</span><span>Rep内部包含了两个计数器</span><span>_</span><span>Uses=1和</span><span>_</span><span>Weaks=1;分别用于对shared</span><span>_</span><span>ptr对象和weak</span><span>_</span><span>ptr对象进行计数。为了理解这两个类生成的对象的结构，我们以TPerson类型的智能指针为例，画出两个对象的内存分配图如下：</span></p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABCcAAAJPCAIAAADAICn+AAAAAXNSR0IArs4c6QAAAAlwSFlzAAASdAAAEnQB3mYfeAAATKdJREFUeF7t3Uma9Lh1KNCXXoI8tSeSvQvVDtSsVc0OSruQpYk8tbeQL8qUYQgkQbADAeL8g/qyMkkA91xEBC5BZn59f3//P/8IECBAgAABAgQIECBwm8A/3dayhgkQIECAAAECBAgQIPCTgKrDPCBAgAABAgQIECBA4F4BVce9vlonQIAAAQIECBAgQEDVYQ4QIECAAAECBAgQIHCvgKrjXl+tEyBAgAABAgQIECCg6jAHCBAgQIAAAQIECBC4V0DVca+v1gkQIECAAAECBAgQUHWYAwQIECBAgAABAgQI3Cug6rjXV+sECBAgQIAAAQIECKg6zAECBAgQIECAAAECBO4VUHXc66t1AgQIECBAgAABAgRUHeYAAQIECBAgQIAAAQL3Cqg67vXVOgECBAgQIECAAAECqg5zgAABAgQIECBAgACBewVUHff6ap0AAQIECBAgQIAAAVWHOUCAAAECBAgQIECAwL0Cqo57fbVOgAABAgQIECBAgICqwxwgQIAAAQIECBAgQOBeAVXHvb5aJ0CAAAECBAgQIEBA1WEOECBAgAABAgQIECBwr4Cq415frRMgQIAAAQIECBAgoOowBwgQIECAAAECBAgQuFdA1XGvr9YJECBAgAABAgQIEFB1mAMECBAgQIAAAQIECNwroOq411frBAgQIECAAAECBAioOswBAgQIECBAgAABAgTuFVB13OurdQIECBAgQIAAAQIEVB3mAAECBAgQIECAAAEC9wqoOu711ToBAgQIECBAgAABAqoOc4AAAQIECBAgQIAAgXsFVB33+mqdAAECBAgQIECAAAFVhzlAgAABAgQIECBAgMC9AqqOe321ToAAAQIECBAgQICAqsMcIECAAAECBAgQIEDgXgFVx72+WidAgAABAgQIECBAQNVhDhAgQIAAAQIECBAgcK+AquNeX60TIECAAAECBAgQIKDqMAcIECBAgAABAgQIELhXQNVxr6/WCRAgQIAAAQIECBBQdZgDBAgQIECAAAECBAjcK6DquNdX6wQIECBAgAABAgQIqDrMAQIECBAgsCDw9fUVf3f63+Sbm3B3H785gPkBmSEdi/HAGJxCgMCAAqqO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AQIECBCoIaDqqKGsDwIECBAgQIAAAQIjC6g6Rs6+2AkQIECAAAECBAjUEFB11FDWBwECBAgQIECAAIGRBVQdI2df7AQIECBAgAABAgRqCKg6aijrgwABAgQIECBAgMDIAqqOkbMvdgIECBAgQIAAAQI1BFQdNZT1QYAAAQIECBAgQGBkAVXHyNkXOwECBAgQIECAAIEaAqqOGsr6IECAAAECBAgQIDCygKpj5OyLnQABAgQIECBAgEANAVVHDWV9ECBAgAABAgQIEBhZQNUxcvbFToAAAQIECBAgQKCGgKqjhrI+CBAgQIAAAQIECIwsoOoYOftiJ0CAAAECBAgQIFBDQNVRQ1kfBAgQIECAAAECBEYWUHWMnH2xEyBAgAABAgQIEKghoOqooawPAgQIECBAgAABAiMLqDpGzr7YCRAgQIAAAQIECNQQUHXUUNYHAQIECBAgQIAAgZEFVB0jZ1/sBAgQIECAAAECBGoIqDpqKOuDAAECBAgQIECAwMgCqo6Rsy92AgQIECBAgAABAjUEVB01lPVBgAABAgQIECBAYGQBVcfI2Rc7AQIECBAgQIAAgRoCqo4ayvogQIAAAQIECBAgMLKAqmPk7IudAAECBAgQIECAQA0BVUcNZX0QIECAAAECBAgQGFlA1TFy9sVOgAABAgQIECBAoIaAqqOGsj4IECBAgAABAgQIjCyg6hg5+2InQIAAAQIECBAgUENA1VFDWR+PCHz/479HxqBTAgQIECBAgACBj4CqwzQgQIAAAQIECBAgQOBeAVXHvb5aJ0CAAAECBAgQIEBA1WEOECBAgAABAgQIECBwr4Cq415frRMgQIAAAQIECBAgoOowBwgQIECAAAECBAgQuFdA1XGvr9YJECBAgAABAgQIEFB1mAMECBAgQIAAAQIECNwroOq411frBAgQIECAAAECBAioOswBAgQIECBAgAABAgTuFVB13OurdQIECBAgQIAAAQIEvr6/vykQIECAAIERBL6+vuIwfQKOkPSmYjQDm0qHwVQWsNdRGVx3BAgQIECAAAECBIYT+P+dThkygPfREwAAAABJRU5ErkJggg==" referrerpolicy="no-referrer"></p><p><span>从内存两种类型的对象均包含指向TPerson对象的指针和计数器</span><span>_</span><span>Users和</span><span>_</span><span>Weaks。由于Weak</span><span>_</span><span>ptr类内部未重载</span><span>*</span><span>和</span><span>-</span><span>&gt;操作符，所以Weak</span><span>_</span><span>ptr对象无法操作TPerson对象。</span></p><p><span>当使用Share</span><span>_</span><span>ptr第一次创建非空类型的对象时，如：</span></p><p><span>Share</span><span>_</span><span>ptr</span><TPerson><span>  theMen</span><span>(</span><span>new TPerson</span><span>(</span><span>)</span><span>)</span><span>; 或</span></p><p><span>Share</span><span>_</span><span>ptr</span><TPerson><span>  theMen = make</span><span>_</span><span>shared&lt; TPerson &gt;</span><span>(</span><span>TPerson</span><span>)</span><span>;</span></p><p><span>附加在theMen对象的</span><span>_</span><span>Ref</span><span>_</span><span>count</span><span>_</span><span>base</span><span>*</span><span> Rep指向的内存块中的变量：</span><span>_</span><span>Users = 1;</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang=""><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang=""><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 13.1458px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">_Weaks = 1;</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 30px;"></div><div class="CodeMirror-gutters" style="display: none; height: 30px;"></div></div></div></pre><p><span>当theMen对象通过Share</span><span>_</span><span>ptr</span><TPerson><span>的复制构造函数或赋值=操作符生成另外一个备份的Share</span><span>_</span><span>ptr</span><TPerson><span>对象时：如：</span></p><p><span>Share</span><span>_</span><span>ptr</span><TPerson><span>  theMen1</span><span>(</span><span>theMen</span><span>)</span><span>;或</span></p><p><span>Share</span><span>_</span><span>ptr</span><TPerson><span>  theMen1 = theMen;</span></p><p><span>注意：这个操作会在全局变量或堆栈去中生成theMen对象的另外一份备份，而且theMen和theMen1对象中的TPerson</span><span>*</span><span> </span><span>_</span><span>Ptr和</span><span>_</span><span>Ref</span><span>_</span><span>count</span><span>_</span><span>base</span><span>*</span><span> Rep会指向同一区域。</span></p><p><span>这个操作完成后会令</span><span>_</span><span>Users </span><span>+</span><span>= 1；而</span><span>_</span><span>Weaks不变。</span></p><p><span>其中Weak</span><span>_</span><span>ptr对象作为Share</span><span>_</span><span>ptr对象的观察者，每增加一个Weak</span><span>_</span><span>ptr对象，其</span><span>_</span><span>weaks计数器加1，而</span><span>_</span><span>Users计数器不变，例如:</span></p><p><span>Weak</span><span>_</span><span>ptr</span><TPerson><span> weak</span><span>_</span><span>Men</span><span>(</span><span>theMen</span><span>)</span><span>或</span></p><p><span>Weak</span><span>_</span><span>ptr</span><TPerson><span> weak</span><span>_</span><span>Men = theMen时；</span></p><p><span>_</span><span>weaks </span><span>+</span><span>= 1；</span><span>_</span><span>Users不变。</span></p><p><span>两个类对象析构时，对于Share</span><span>_</span><span>ptr对象析构函数将</span><span>_</span><span>Users计数器均减1，判断Users是否等于0，如果Users等于0时，这时会完成如下操作：</span></p><ol start='' ><li><p><span>删除</span><span>*</span><span>_</span><span>ptr指向的TPerson对象分配的内存，并且使得</span><span>*</span><span>_</span><span>ptr=null;即：</span></p></li></ol><p><span>Delete ptr；</span></p><p><span>_</span><span>ptr = NULL；</span></p><ol start='' ><li><p><span>_</span><span>weaks</span><span>-</span><span>= 1; //注意Share</span><span>_</span><span>ptr对象第一次生成时，weaks =1；</span></p></li></ol><p><span>If</span><span>(</span><span>_</span><span>weaks == 0 </span><span>)</span></p><p><span>{</span></p><p><span>   Delete Rep;//删除</span><span>_</span><span>Users和</span><span>_</span><span>Weaks占用的内存快</span></p><p><span>   Rep = NULL;</span></p><p><span>}</span></p><p><span>对于Weak</span><span>_</span><span>ptr对象析构函数内部只将</span><span>_</span><span>weaks计数器减1，然后判定</span><span>_</span><span>weaks计数器是否等于0，如果等于零说明系统中两种类型的对象均不存在了，删除</span><span>_</span><span>Ref</span><span>_</span><span>count</span><span>_</span><span>base</span><span>*</span><span>指向的内存块。即：</span></p><p><span>_</span><span>weaks </span><span>-</span><span>=1；</span></p><p><span>If</span><span>(</span><span>weaks == 0 </span><span>)</span></p><p><span>{</span></p><p><span>  Delete Rep; //删除</span><span>_</span><span>Users和</span><span>_</span><span>Weaks占用的内存快</span></p><p><span>   Rep = NULL;</span></p><p><span>}</span></p><p><span>以上是Share</span><span>_</span><span>ptr和Weak</span><span>_</span><span>ptr对象相互协调，保证了对象的复制操作并且避免了死锁现象发生的工作机理，你看明白了么？</span></p><ol start='' ><li><p><span>C</span><span>+</span><span>+</span><span>中的智能指针与多线程安全性</span></p></li></ol><p><span>看了很多篇文章，谈起std中的智能指针线程安全性，存在一个比较模糊的概念，其中这句话比较流行：Share</span><span>_</span><span>ptr和Weak</span><span>_</span><span>ptr类内部采用了原子类型的操作，其线程安全性达到了很高的级别。那么c</span><span>+</span><span>+</span><span>中Std库中的Share</span><span>_</span><span>ptr和Weak</span><span>_</span><span>ptr智能指针是否线程安全呢？</span></p><p><span>谈到智能指针线程安全性，其实存在两方面因数：</span></p><ul><li><p><span>智能指针管理的对象，例如TPerson对象的线程安全中，这部分与设计TPerson类内部函数能否保证线程安全性有关，不在本文讨论的范围。</span></p></li><li><p><span>智能指针对象，如Share</span><span>_</span><span>ptr和Weak</span><span>_</span><span>ptr生成的对象的线程安全性。我们通过分析原码，在这两个类设计内部，对</span><span>_</span><span>weaks 和</span><span>_</span><span>Users变量均定义为原子类型，即</span><span>_</span><span>Atomic</span><span>_</span><span>counter</span><span>_</span><span>t类型，而且内部代码对这两个变量的操作均使用</span><span>_</span><span>MT</span><span>_</span><span>INCR</span><span>(</span><span>_</span><span>Uses</span><span>)</span><span>;和</span><span>_</span><span>MT</span><span>_</span><span>DECR</span><span>(</span><span>_</span><span>Uses</span><span>)</span><span>原子才做的宏定义，一定程度的保证了这两个类对象多线程环境下的安全性。但是这并不代表这两个类是完全线程安全的，下面我们对这两个类全面进行线程安全性分析。</span></p></li></ul><p><span>其实Share</span><span>_</span><span>ptr和Weak</span><span>_</span><span>ptr这两个类设计及线程安全中主要变现在</span><span>_</span><span>Ref</span><span>_</span><span>count</span><span>_</span><span>base内部的设计中，我们观察代码，会发现：</span></p><p><span>_</span><span>Incref</span><span>(</span><span>)</span><span>函数和</span><span>_</span><span>Incwref</span><span>(</span><span>)</span><span>函数，这两个函数是在Share</span><span>_</span><span>ptr和Weak</span><span>_</span><span>ptr类型的对象被复制或赋值是调用，其内部只有一个原子操作：</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang=""><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang=""><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 13.1458px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">void _Incref() noexcept </span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">{ // increment use count</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; _MT_INCR(_Uses);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">void _Incwref() noexcept </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">{ // increment weak reference count</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">  _MT_INCR(_Weaks);</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 273px;"></div><div class="CodeMirror-gutters" style="display: none; height: 273px;"></div></div></div></pre><p><span>所以这两个类型的对象在进行复制会赋值操作时，是线程安全的。下面我们分析一下这两个类对象在释放过程中的操作过程：</span></p><p>&nbsp;</p><pre class="md-fences md-end-block ty-contain-cm modeLoaded md-focus" spellcheck="false" lang="" style="break-inside: unset;"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap CodeMirror-focused" lang=""><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 225.188px; left: 156.406px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="" style="position: relative;"><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> void _Decref() noexcept </span></pre></div><div class="" style="position: relative;"><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> { // decrement use count</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> if (_MT_DECR(_Uses) == 0) </span></pre><div class="" style="position: relative;"><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> {</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><div class="" style="position: relative;"><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; _Destroy();</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; _Decwref();</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><div class="" style="position: relative;"><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> }</span></pre></div><div class="" style="position: relative;"><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">}</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> void _Decwref() noexcept </span></pre><div class="" style="position: relative;"><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> { // decrement weak reference count </span></pre></div><div class="" style="position: relative;"><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  if (_MT_DECR(_Weaks) == 0) </span></pre></div><div class="" style="position: relative;"><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  {</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><div class="" style="position: relative;"><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; _Delete_this();</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><div class="" style="position: relative;"><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  }</span></pre></div><div class="" style="position: relative;"><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> }</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 606px;"></div><div class="CodeMirror-gutters" style="display: none; height: 606px;"></div></div></div></pre><p><span>问题就出在这两个函数上，我们发现，</span><span>_</span><span>Decref</span><span>(</span><span>)</span><span>和</span><span>_</span><span>Decwref</span><span>(</span><span>)</span><span>函数均包含多步操作，虽然</span><span>_</span><span>MT</span><span>_</span><span>DECR</span><span>(</span><span>_</span><span>Uses</span><span>)</span><span>和</span><span>_</span><span>MT</span><span>_</span><span>DECR</span><span>(</span><span>_</span><span>Weaks</span><span>)</span><span>是原子操作，但是在多线程环境下，当对象退出原子操作</span><span>_</span><span>MT</span><span>_</span><span>DECR</span><span>(</span><span>_</span><span>Uses</span><span>)</span><span>后，还未执行</span><span>_</span><span>Destroy</span><span>(</span><span>)</span><span>;</span><span>_</span><span>Decwref</span><span>(</span><span>)</span><span>;时，另外一个线程中的Weak</span><span>_</span><span>ptr对象正好调用正好条用Weak</span><span>_</span><span>ptr</span><span>.</span><span>Lock</span><span>(</span><span>)</span><span>函数，而Weak</span><span>_</span><span>ptr</span><span>.</span><span>Lock</span><span>(</span><span>)</span><span>内部判断</span><span>_</span><span>Ptr不为空，就生成一个新的Share</span><span>_</span><span>ptr对象，如果这时再执行</span><span>_</span><span>Destroy</span><span>(</span><span>)</span><span>;</span><span>_</span><span>Decwref</span><span>(</span><span>)</span><span>;程序就会崩溃。这就是std中的智能指针线程安全性问题。</span></p><p><span>结论std中的智能指针并不是完全线程安全的，这也是goole和OSG和UE4系统中均独立定义了自己的智能指针的原因。</span></p><ol start='' ><li><p><span>各种智能指针的使用时机</span></p></li></ol><p><span>现代C</span><span>+</span><span>+</span><span>基本抛弃了std:: auto</span><span>_</span><span>ptr类型的智能指针，讨论std::__ unique</span><span>_</span><span>ptr、__std:: Share</span><span>_</span><span>ptr和std:: Weak</span><span>_</span><span>ptr使用场合是个敏感的话题，很多大师级给出的建议都不相同，我只能更具自己的一些心得体会讨论一下他们的应用场合。</span></p><p><span>其实要确定智能指针的应用场合，首先要清晰C</span><span>+</span><span>+</span><span>语言变量的可见行类型,在C</span><span>+</span><span>+</span><span>语言中变量的可见行存在一下几个类型：</span></p><ul><li><p><span>全局变量：分配在全局内存区域，对于程序任何地方均可访问。</span></p></li><li><p><span>局部变量：分配在堆栈区域。只有函数执行期间才存在，本函数内部可见。</span></p></li><li><p><span>函数参数和返回值：形式参数和实际参数。形式参数是程序设计过程中一种形式化的存在，只有程序运行期间以实际形式的参数填入参数时才具有存在意义，函数参数与局部变量相同均分配在堆栈区，函数执行完实际参数就不存在了。</span></p></li><li><p><span>类内部的成员变量：当类设计阶段，类内部的成员变量是以形式化存在的，只有类定义为对象后，类内部的成员变量才实际生成存在，当然类生成的对象同样具有全局性可见性或局部可见性。</span></p></li></ul><p><span>类内部的成员变量，在设计期可以被类和派生类中的函数按可见性约定进行使用。</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang=""><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang=""><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 12.9062px; left: 4px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation"><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">按照以上的分析，在使用智能指针的时候，对于全局变量，建议使用__unique_ptr类型的智能指针，局部变量建议使用__Share_ptr类型的智能指针，函数参数建议使用Share_ptr&amp;类型的智能指针的引用，函数返回值建议使用Share_ptr类型的智能指针。</span></pre></div></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 91px;"></div><div class="CodeMirror-gutters" style="display: none; height: 91px;"></div></div></div></pre><p><span>对于类内部的成员变量要分析是否存在交叉引用，建议结合使用Share</span><span>_</span><span>ptr和Weak</span><span>_</span><span>ptr类型的智能指针。</span></p><p><span>对于std容器中的数据，建议使用Share</span><span>_</span><span>ptr类型的智能指针，并且在初始化容器时，建议传入容器的对象定义为局部对象。</span></p><p><span>小朋友你看懂了么？</span></p><p>&nbsp;</p></div></div>
</body>
</html>